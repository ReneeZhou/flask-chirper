{% extends 'layout.html' %}

{% block title %}Messages{% endblock title %}
{% block header %}Messages{% endblock header %}

{% block svg %}
<a href="{{ url_for('main.messages_compose') }}">
    <div class="svg-bg-div">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            class="w-6 h-6 stroke-current text-blue-500">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
    </div>
</a>
{% endblock svg %}

{% block content %}
<div class="divide-y divide-gray-700 overflow-y-scroll h-auto">
    <!-- search bar -->
    <div class="flex items-center m-2 text-gray-600 bg-gray-800 bg-opacity-75 rounded-full overflow-hidden
px-4 py-2 border border-transparent focus-within:border-blue-500 focus-within:text-blue-500">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            class="w-5 h-5 stroke-current focus:text-blue-500">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <form class="ml-4">
            <label for="search"></label>
            <input name="search" type="text" placeholder="Search for people and groups"
                class="bg-gray-800 bg-opacity-0 outline-none w-full text-white text-tiny">
        </form>
    </div>

    <!-- list of folloing users/contacts -->
    <div class="mt-3">
        {% for user in following_users %}
        <div class="flex flex-row border-b border-gray-700">
            <!-- user icon -->
            <div class="w-12 h-12 mx-3 my-2">
                <div class="w-12 h-12 rounded-full overflow-hidden">
                    <img src="{{ url_for('static', filename = 'img/profile_pics/' + user.profile_image) }}"
                        alt="profile pic" class="w-full h-full object-cover">
                </div>
            </div>
            <!-- link to user page -->
            <div class="flex flex-col justify-center -space-y-1">
                <div class="text-tiny font-bold">{{ user.name }}</div>
                <div class="text-gray-600 text-tiny">@{{ user.handle }}</div>
            </div>
        </div>
        {% endfor %}
    </div>
    <!-- end list -->

</div>

{% endblock content %}

{% block messages %}
<div class="border-r border-gray-700 h-full overflow-y-auto flex flex-col -ml-8">
    <!-- counterpart info -->
    <div class="fixed flex flex-row justify-between items-center border-b border-gray-700 py-1 pr-3 w-152">
        <div class="flex flex-row items-center">
            <!-- user icon -->
            <div class="w-8 h-8 mx-3 my-2">
                <div class="w-8 h-8 rounded-full overflow-hidden">
                    <img src="{{ url_for('static', filename = 'img/profile_pics/' + current_user.profile_image) }}"
                        alt="profile pic" class="w-full h-full object-cover">
                </div>
            </div>
            <!-- link to user page -->
            <div class="flex flex-col justify-center -space-y-1">
                <div class="text-xl font-bold">{{ current_user.name }}</div>
                <div class="text-gray-600 text-s">@{{ current_user.handle }}</div>
            </div>
        </div>

        <!-- info svg -->
        <a href="#">
            <div class="svg-bg-div">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                class="w-6 h-6 stroke-current text-blue-500">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
        </a>
        <!-- svg end -->
    </div>
    <!-- couterpart info end -->


</div>
{% endblock messages %}